{"ast":null,"code":"var _jsxFileName = \"/home/vik/Documents/portfolio-projects/weather-app/client/src/component/App.js\";\nimport React from 'react';\nimport DateBuilder from './DateBuilder';\nimport SearchBar from './SearchBar';\nimport WeatherDisplay from './WeatherDisplay';\nimport OpenWeather from '../apis/OpenWeather';\nimport '../styles/App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      date: DateBuilder,\n      errorMessage: \"\",\n      city: \"Toronto\",\n      temp: 20,\n      tempF: 68,\n      humidity: 50,\n      feelsLike: 22,\n      feelsLikeF: 71.6,\n      lat: 43.6532,\n      lon: 79.3832,\n      tempDisplayC: true\n    };\n\n    this.onChange = e => {\n      this.setState({\n        city: e.target.value\n      });\n    };\n\n    this.onSubmit = async () => {\n      const response = await OpenWeather.get('/weather', {\n        params: {\n          q: this.state.city\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n      this.setWeatherDetails(response);\n    };\n\n    this.celciusToF = c => (c * 9 / 5 + 32).toFixed(2);\n\n    this.toggleTempDisplay = temp => {\n      this.setState({\n        tempDisplayC: this.state.tempDisplayC ? false : true\n      });\n    };\n\n    this.showTempC = temp => {\n      const weatherDisplayF = document.querySelector(\".weather-display-f\").classList;\n      const weatherDisplayExtraF = document.querySelector(\".weather-display-extra-f\").classList;\n      const tempF = document.querySelector(\"#temp-f\").classList;\n      const weatherDisplayC = document.querySelector(\".weather-display-c\").classList;\n      const weatherDisplayExtraC = document.querySelector(\".weather-display-extra-c\").classList;\n      const tempC = document.querySelector(\"#temp-c\").classList;\n\n      if (temp) {\n        weatherDisplayC.remove(\"temp-hidden\");\n        weatherDisplayF.add(\"temp-hidden\");\n        weatherDisplayExtraC.remove(\"temp-hidden\");\n        weatherDisplayExtraF.add(\"temp-hidden\");\n        tempF.remove('selected-temp');\n        tempC.add('selected-temp');\n      } else {\n        weatherDisplayF.remove(\"temp-hidden\");\n        weatherDisplayC.add(\"temp-hidden\");\n        weatherDisplayExtraF.remove(\"temp-hidden\");\n        weatherDisplayExtraC.add(\"temp-hidden\");\n        tempC.remove('selected-temp');\n        tempF.add('selected-temp');\n      }\n    };\n\n    this.onClick = event => {\n      if (event.target.id === \"temp-c\") {\n        if (!this.state.tempDisplayC) {\n          this.toggleTempDisplay();\n          this.showTempC(true);\n        }\n      }\n\n      if (event.target.id === \"temp-f\") {\n        if (this.state.tempDisplayC) {\n          this.toggleTempDisplay();\n          this.showTempC(false);\n        }\n      }\n    };\n\n    this.setWeatherDetails = response => {\n      const tempF = this.celciusToF(response.data.main.temp);\n      const tempExtraF = this.celciusToF(response.data.main.feels_like);\n      this.setState({\n        temp: response.data.main.temp,\n        tempF: tempF,\n        humidity: response.data.main.humidity,\n        feelsLike: response.data.main.feels_like,\n        feelsLikeF: tempExtraF,\n        lat: response.data.coord.lat,\n        lon: response.data.coord.lon,\n        city: response.data.name\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.onSubmit();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app-heading\",\n          children: \"Weather App\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n          city: this.state.city,\n          onSubmit: this.onSubmit,\n          onChange: this.onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DateBuilder, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(WeatherDisplay, {\n          city: this.state.city,\n          temp: this.state.temp,\n          tempF: this.state.tempF,\n          humidity: this.state.humidity,\n          feelsLike: this.state.feelsLike,\n          feelsLikeF: this.state.feelsLikeF,\n          lat: this.state.lat,\n          lon: this.state.lon,\n          tempDisplayC: this.state.tempDisplayC,\n          toggleTempDisplay: this.toggleTempDisplay,\n          onClick: this.onClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app-copyright\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"https://www.vikramsingh.tech/\",\n            target: \"_blank\",\n            children: \"Vikram Singh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 21\n          }, this), \"  \\xA9 2022\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this)\n    /*--app ends--*/\n    ;\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/vik/Documents/portfolio-projects/weather-app/client/src/component/App.js"],"names":["React","DateBuilder","SearchBar","WeatherDisplay","OpenWeather","App","Component","state","date","errorMessage","city","temp","tempF","humidity","feelsLike","feelsLikeF","lat","lon","tempDisplayC","onChange","e","setState","target","value","onSubmit","response","get","params","q","catch","err","console","log","setWeatherDetails","celciusToF","c","toFixed","toggleTempDisplay","showTempC","weatherDisplayF","document","querySelector","classList","weatherDisplayExtraF","weatherDisplayC","weatherDisplayExtraC","tempC","remove","add","onClick","event","id","data","main","tempExtraF","feels_like","coord","name","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport DateBuilder from './DateBuilder';\nimport SearchBar from './SearchBar';\nimport WeatherDisplay from './WeatherDisplay';\nimport OpenWeather from '../apis/OpenWeather';\nimport '../styles/App.css';\n\n\nclass App extends React.Component{\n    state = {\n        date: DateBuilder,\n        errorMessage: \"\",\n        city: \"Toronto\",\n        temp: 20,\n        tempF: 68,\n        humidity: 50,\n        feelsLike: 22,\n        feelsLikeF: 71.6,\n        lat: 43.6532,\n        lon: 79.3832,\n        tempDisplayC: true,\n\n    };\n\n    //handles on change for search bar text\n    onChange = (e) => {\n        this.setState({city: e.target.value});\n    }\n\n    //handles on submit for search form\n    onSubmit = async() => {\n        const response = await OpenWeather.get('/weather',{\n            params: {\n                q: this.state.city,\n            }\n        }).catch(err => {\n            console.log(err);\n        });\n\n        this.setWeatherDetails(response);\n\n    }\n\n    //takes celcius and returns f\n    celciusToF = c => ((c * 9 / 5) + 32).toFixed(2);\n\n    //toggles temp info unit from c to f and vice versa\n    //for weather display\n    toggleTempDisplay = temp => {\n        this.setState({tempDisplayC: this.state.tempDisplayC ? false : true});\n    };\n\n    //handles temp toggle for weather display\n    //hides currently displaying unit and unhides the hidden unit\n    //will switch from f to c if temp is true\n    //c to f if temp is false\n    showTempC = temp => {\n        const weatherDisplayF = document.querySelector(\".weather-display-f\").classList;\n        const weatherDisplayExtraF = document.querySelector(\".weather-display-extra-f\").classList;\n        const tempF = document.querySelector(\"#temp-f\").classList;\n        const weatherDisplayC = document.querySelector(\".weather-display-c\").classList;\n        const weatherDisplayExtraC = document.querySelector(\".weather-display-extra-c\").classList;\n        const tempC = document.querySelector(\"#temp-c\").classList;\n        if(temp){\n            weatherDisplayC.remove(\"temp-hidden\");\n            weatherDisplayF.add(\"temp-hidden\");\n            weatherDisplayExtraC.remove(\"temp-hidden\");\n            weatherDisplayExtraF.add(\"temp-hidden\");\n            tempF.remove('selected-temp');\n            tempC.add('selected-temp');\n        } else {\n            weatherDisplayF.remove(\"temp-hidden\");\n            weatherDisplayC.add(\"temp-hidden\");\n            weatherDisplayExtraF.remove(\"temp-hidden\");\n            weatherDisplayExtraC.add(\"temp-hidden\");\n            tempC.remove('selected-temp');\n            tempF.add('selected-temp');\n        }\n    }\n\n    //handles on click for weather display temp toggle\n    onClick = event => {\n        if(event.target.id === \"temp-c\"){\n            if(!this.state.tempDisplayC){\n                this.toggleTempDisplay();\n                this.showTempC(true);\n            }\n        }\n        if(event.target.id === \"temp-f\"){\n            if(this.state.tempDisplayC){\n                this.toggleTempDisplay();\n                this.showTempC(false);\n            }\n      }\n    }\n\n    setWeatherDetails = (response) => {\n        const tempF = this.celciusToF(response.data.main.temp);\n        const tempExtraF = this.celciusToF(response.data.main.feels_like);\n        this.setState({\n            temp: response.data.main.temp,\n            tempF: tempF,\n            humidity: response.data.main.humidity,\n            feelsLike: response.data.main.feels_like,\n            feelsLikeF: tempExtraF,\n            lat: response.data.coord.lat,\n            lon: response.data.coord.lon,\n            city: response.data.name,\n        });\n    }\n\n    componentDidMount(){\n        this.onSubmit();\n    }\n\n    render(){\n        return(\n            <div className='app'>\n                <div className=\"app-container\"> \n                    <div className='app-heading'>Weather App</div>\n\n                    <SearchBar \n                        city={this.state.city}\n                        onSubmit={this.onSubmit}\n                        onChange={this.onChange}\n                    />\n\n                    <DateBuilder />\n\n                    <WeatherDisplay \n                        city={this.state.city}\n                        temp={this.state.temp}\n                        tempF={this.state.tempF}\n                        humidity={this.state.humidity}\n                        feelsLike={this.state.feelsLike}\n                        feelsLikeF={this.state.feelsLikeF}\n                        lat={this.state.lat}\n                        lon={this.state.lon}\n                        tempDisplayC={this.state.tempDisplayC}\n                        toggleTempDisplay={this.toggleTempDisplay}\n                        onClick={this.onClick}\n                    \n                    />\n\n                    <div className='app-copyright'>\n                    <a href=\"https://www.vikramsingh.tech/\" target=\"_blank\">Vikram Singh</a>  &copy; 2022 \n                    </div>\n\n                </div>{/*--app container ends--*/}\n            </div> /*--app ends--*/            \n        );\n    }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}