{"ast":null,"code":"import _asyncToGenerator from\"/home/vik/Documents/portfolio-projects/weather-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/vik/Documents/portfolio-projects/weather-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/vik/Documents/portfolio-projects/weather-app/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/vik/Documents/portfolio-projects/weather-app/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/vik/Documents/portfolio-projects/weather-app/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/home/vik/Documents/portfolio-projects/weather-app/client/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import DateBuilder from'./DateBuilder';import SearchBar from'./SearchBar';import WeatherDisplay from'./WeatherDisplay';import Backend from'../apis/Backend';import'../styles/App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={date:DateBuilder,errorMessage:\"\",city:\"Toronto\",temp:20,tempF:68,humidity:50,feelsLike:22,feelsLikeF:71.6,lat:43.6532,lon:79.3832,tempDisplayC:true};_this.onChange=function(e){_this.setState({city:e.target.value});};_this.onSubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Backend.get('/getWeather',{params:{city:_this.state.city}}).catch(function(err){console.log(err);});case 2:response=_context.sent;console.log(response);_this.setWeatherDetails(response);case 5:case\"end\":return _context.stop();}}},_callee);}));_this.celciusToF=function(c){return(c*9/5+32).toFixed(2);};_this.toggleTempDisplay=function(temp){_this.setState({tempDisplayC:_this.state.tempDisplayC?false:true});};_this.showTempC=function(temp){var weatherDisplayF=document.querySelector(\".weather-display-f\").classList;var weatherDisplayExtraF=document.querySelector(\".weather-display-extra-f\").classList;var tempF=document.querySelector(\"#temp-f\").classList;var weatherDisplayC=document.querySelector(\".weather-display-c\").classList;var weatherDisplayExtraC=document.querySelector(\".weather-display-extra-c\").classList;var tempC=document.querySelector(\"#temp-c\").classList;if(temp){weatherDisplayC.remove(\"temp-hidden\");weatherDisplayF.add(\"temp-hidden\");weatherDisplayExtraC.remove(\"temp-hidden\");weatherDisplayExtraF.add(\"temp-hidden\");tempF.remove('selected-temp');tempC.add('selected-temp');}else{weatherDisplayF.remove(\"temp-hidden\");weatherDisplayC.add(\"temp-hidden\");weatherDisplayExtraF.remove(\"temp-hidden\");weatherDisplayExtraC.add(\"temp-hidden\");tempC.remove('selected-temp');tempF.add('selected-temp');}};_this.onClick=function(event){if(event.target.id===\"temp-c\"){if(!_this.state.tempDisplayC){_this.toggleTempDisplay();_this.showTempC(true);}}if(event.target.id===\"temp-f\"){if(_this.state.tempDisplayC){_this.toggleTempDisplay();_this.showTempC(false);}}};_this.setWeatherDetails=function(response){var tempF=_this.celciusToF(response.data.main.temp);var tempExtraF=_this.celciusToF(response.data.main.feels_like);_this.setState({temp:response.data.main.temp,tempF:tempF,humidity:response.data.main.humidity,feelsLike:response.data.main.feels_like,feelsLikeF:tempExtraF,lat:response.data.coord.lat,lon:response.data.coord.lon,city:response.data.name});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.onSubmit();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"app-heading\",children:\"Weather App\"}),/*#__PURE__*/_jsx(SearchBar,{city:this.state.city,onSubmit:this.onSubmit,onChange:this.onChange}),/*#__PURE__*/_jsx(DateBuilder,{}),/*#__PURE__*/_jsx(WeatherDisplay,{city:this.state.city,temp:this.state.temp,tempF:this.state.tempF,humidity:this.state.humidity,feelsLike:this.state.feelsLike,feelsLikeF:this.state.feelsLikeF,lat:this.state.lat,lon:this.state.lon,tempDisplayC:this.state.tempDisplayC,toggleTempDisplay:this.toggleTempDisplay,onClick:this.onClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"app-copyright\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"https://www.vikramsingh.tech/\",target:\"_blank\",children:\"Vikram Singh\"}),\"  \\xA9 2022\"]})]})})/*--app ends--*/;}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/vik/Documents/portfolio-projects/weather-app/client/src/component/App.js"],"names":["React","DateBuilder","SearchBar","WeatherDisplay","Backend","App","state","date","errorMessage","city","temp","tempF","humidity","feelsLike","feelsLikeF","lat","lon","tempDisplayC","onChange","e","setState","target","value","onSubmit","get","params","catch","err","console","log","response","setWeatherDetails","celciusToF","c","toFixed","toggleTempDisplay","showTempC","weatherDisplayF","document","querySelector","classList","weatherDisplayExtraF","weatherDisplayC","weatherDisplayExtraC","tempC","remove","add","onClick","event","id","data","main","tempExtraF","feels_like","coord","name","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport DateBuilder from './DateBuilder';\nimport SearchBar from './SearchBar';\nimport WeatherDisplay from './WeatherDisplay';\nimport Backend from '../apis/Backend';\nimport '../styles/App.css';\n\n\nclass App extends React.Component{\n    state = {\n        date: DateBuilder,\n        errorMessage: \"\",\n        city: \"Toronto\",\n        temp: 20,\n        tempF: 68,\n        humidity: 50,\n        feelsLike: 22,\n        feelsLikeF: 71.6,\n        lat: 43.6532,\n        lon: 79.3832,\n        tempDisplayC: true,\n\n    };\n\n    //handles on change for search bar text\n    onChange = (e) => {\n        this.setState({city: e.target.value});\n    }\n\n    //handles on submit for search form\n    onSubmit = async() => {\n        const response = await Backend.get('/getWeather',{\n            params: {\n                city: this.state.city,\n            }\n        }).catch(err => {\n            console.log(err);\n        });\n\n        console.log(response);\n        this.setWeatherDetails(response);\n\n    }\n\n    //takes celcius and returns f\n    celciusToF = c => ((c * 9 / 5) + 32).toFixed(2);\n\n    //toggles temp info unit from c to f and vice versa\n    //for weather display\n    toggleTempDisplay = temp => {\n        this.setState({tempDisplayC: this.state.tempDisplayC ? false : true});\n    };\n\n    //handles temp toggle for weather display\n    //hides currently displaying unit and unhides the hidden unit\n    //will switch from f to c if temp is true\n    //c to f if temp is false\n    showTempC = temp => {\n        const weatherDisplayF = document.querySelector(\".weather-display-f\").classList;\n        const weatherDisplayExtraF = document.querySelector(\".weather-display-extra-f\").classList;\n        const tempF = document.querySelector(\"#temp-f\").classList;\n        const weatherDisplayC = document.querySelector(\".weather-display-c\").classList;\n        const weatherDisplayExtraC = document.querySelector(\".weather-display-extra-c\").classList;\n        const tempC = document.querySelector(\"#temp-c\").classList;\n        if(temp){\n            weatherDisplayC.remove(\"temp-hidden\");\n            weatherDisplayF.add(\"temp-hidden\");\n            weatherDisplayExtraC.remove(\"temp-hidden\");\n            weatherDisplayExtraF.add(\"temp-hidden\");\n            tempF.remove('selected-temp');\n            tempC.add('selected-temp');\n        } else {\n            weatherDisplayF.remove(\"temp-hidden\");\n            weatherDisplayC.add(\"temp-hidden\");\n            weatherDisplayExtraF.remove(\"temp-hidden\");\n            weatherDisplayExtraC.add(\"temp-hidden\");\n            tempC.remove('selected-temp');\n            tempF.add('selected-temp');\n        }\n    }\n\n    //handles on click for weather display temp toggle\n    onClick = event => {\n        if(event.target.id === \"temp-c\"){\n            if(!this.state.tempDisplayC){\n                this.toggleTempDisplay();\n                this.showTempC(true);\n            }\n        }\n        if(event.target.id === \"temp-f\"){\n            if(this.state.tempDisplayC){\n                this.toggleTempDisplay();\n                this.showTempC(false);\n            }\n      }\n    }\n\n    setWeatherDetails = (response) => {\n        const tempF = this.celciusToF(response.data.main.temp);\n        const tempExtraF = this.celciusToF(response.data.main.feels_like);\n        this.setState({\n            temp: response.data.main.temp,\n            tempF: tempF,\n            humidity: response.data.main.humidity,\n            feelsLike: response.data.main.feels_like,\n            feelsLikeF: tempExtraF,\n            lat: response.data.coord.lat,\n            lon: response.data.coord.lon,\n            city: response.data.name,\n        });\n    }\n\n    componentDidMount(){\n        this.onSubmit();\n    }\n\n    render(){\n        return(\n            <div className='app'>\n                <div className=\"app-container\"> \n                    <div className='app-heading'>Weather App</div>\n\n                    <SearchBar \n                        city={this.state.city}\n                        onSubmit={this.onSubmit}\n                        onChange={this.onChange}\n                    />\n\n                    <DateBuilder />\n\n                    <WeatherDisplay \n                        city={this.state.city}\n                        temp={this.state.temp}\n                        tempF={this.state.tempF}\n                        humidity={this.state.humidity}\n                        feelsLike={this.state.feelsLike}\n                        feelsLikeF={this.state.feelsLikeF}\n                        lat={this.state.lat}\n                        lon={this.state.lon}\n                        tempDisplayC={this.state.tempDisplayC}\n                        toggleTempDisplay={this.toggleTempDisplay}\n                        onClick={this.onClick}\n                    \n                    />\n\n                    <div className='app-copyright'>\n                    <a href=\"https://www.vikramsingh.tech/\" target=\"_blank\">Vikram Singh</a>  &copy; 2022 \n                    </div>\n\n                </div>{/*--app container ends--*/}\n            </div> /*--app ends--*/            \n        );\n    }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}